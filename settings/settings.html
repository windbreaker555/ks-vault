<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>K's Vault â€” Settings</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>

  <div class="container">
    <div class="header">
      <div class="logo">K's Vault</div>
      <p class="subtitle">Settings</p>
    </div>

    <!-- Must be unlocked to access settings -->
    <div id="locked-notice" class="notice hidden">
      <p>Unlock the vault to access settings.</p>
    </div>

    <div id="settings-content" class="hidden">

      <!-- Security Section -->
      <section class="section">
        <h2 class="section-title">Security</h2>

        <!-- Strike Mode -->
        <div class="setting-row">
          <div class="setting-info">
            <label class="setting-label">Failed attempt behavior</label>
            <p class="setting-desc">What happens after 3 wrong password attempts.</p>
          </div>
          <div class="toggle-group">
            <button id="mode-cooldown" class="toggle-btn active" data-value="cooldown">Cooldown</button>
            <button id="mode-wipe" class="toggle-btn" data-value="wipe">Wipe</button>
          </div>
        </div>

        <!-- Cooldown Duration (only visible in cooldown mode) -->
        <div id="cooldown-setting" class="setting-row sub-setting">
          <div class="setting-info">
            <label class="setting-label">Cooldown duration</label>
            <p class="setting-desc">Lockout time after failed attempts.</p>
          </div>
          <select id="cooldown-duration">
            <option value="300">5 minutes</option>
            <option value="900" selected>15 minutes</option>
            <option value="1800">30 minutes</option>
            <option value="3600">1 hour</option>
          </select>
        </div>

        <!-- Re-entry Frequency -->
        <div class="setting-row">
          <div class="setting-info">
            <label class="setting-label">Password re-entry</label>
            <p class="setting-desc">How often you need to re-type your password.</p>
          </div>
          <select id="reentry-frequency">
            <option value="0" selected>Only on browser start</option>
            <option value="15">Every 15 minutes</option>
            <option value="30">Every 30 minutes</option>
            <option value="60">Every hour</option>
            <option value="120">Every 2 hours</option>
          </select>
        </div>
      </section>

      <!-- Protected Domains Section -->
      <section class="section">
        <h2 class="section-title">Protected Domains</h2>
        <div id="domains-list" class="domains-list">
          <p class="empty-state">No domains protected yet.</p>
        </div>
      </section>

      <!-- Change Password Section -->
      <section class="section">
        <h2 class="section-title">Change Password</h2>
        <div class="change-password">
          <div class="input-group">
            <label for="current-password">Current password</label>
            <input type="password" id="current-password" placeholder="Enter current password" autocomplete="off">
          </div>
          <div class="input-group">
            <label for="new-password">New password</label>
            <input type="password" id="new-password" placeholder="Enter new password" autocomplete="off">
          </div>
          <div class="input-group">
            <label for="confirm-password">Confirm new password</label>
            <input type="password" id="confirm-password" placeholder="Confirm new password" autocomplete="off">
          </div>
          <div id="password-error" class="error hidden"></div>
          <div id="password-success" class="success hidden"></div>
          <button id="btn-change-password" class="btn-primary">Change Password</button>
        </div>
      </section>

      <!-- Danger Zone -->
      <section class="section danger-section">
        <h2 class="section-title danger">Danger Zone</h2>
        <div class="setting-row">
          <div class="setting-info">
            <label class="setting-label">Reset K's Vault</label>
            <p class="setting-desc">Wipe all encrypted data and settings. This cannot be undone.</p>
          </div>
          <button id="btn-reset" class="btn-danger-small">Reset Everything</button>
        </div>
      </section>

    </div>
  </div>

  <!-- Confirmation modal -->
  <div id="modal-confirm" class="modal hidden">
    <div class="modal-content">
      <p id="modal-message"></p>
      <div class="modal-actions">
        <button id="modal-cancel" class="btn-secondary">Cancel</button>
        <button id="modal-confirm-btn" class="btn-danger-small">Confirm</button>
      </div>
    </div>
  </div>

  <script src="settings.js"></script>
</body>
</html>
